<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contains the Varieties of Democracy (V-Dem) Dataset v. 7.1 • vdem</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">vdem</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="vdem" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#vdem" class="anchor"></a>vdem</h1></div>
<p>This package provides access to the <a href="https://www.v-dem.net/en/data/data-version-7-1/">Varieties of Democracy (V-Dem) dataset, version 7.1</a>. It includes the dataset’s codebook as a data frame, which allows one to easily search for variables by label or other descriptors. And it also includes a couple of convenience functions, <code>extract_vdem</code> and <code>extract_vdem_filter</code>, to extract subsets of the dataset meeting particular criteria.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>This package is only available on Github for now. Install as follows:</p>
<pre><code>devtools::install_github("xmarquez/vdem")
</code></pre>
</div>
<div id="accessing-the-vdem-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-the-vdem-dataset" class="anchor"></a>Accessing the VDem dataset</h2>
<p>You can access the entire V-Dem dataset by typing <code>VDem_plus</code>. (Access documentation on the dataset by typing <code><a href="reference/VDem_plus.html">?VDem_plus</a></code>, or typing <code>vdem_codebook</code> to access the codebook as a data frame.).</p>
</div>
<div id="extracting-specific-variables-by-label-section-number-etc-" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-specific-variables-by-label-section-number-etc-" class="anchor"></a>Extracting specific variables by label, section number, etc.</h2>
<p>The V-Dem dataset is pretty big; including external variables and identifiers, it has <code>17604</code> rows and <code>3615</code> columns, which takes up a lot of memory and can be confusing to work with. This package thus makes available the function <code>extract_vdem</code>, which allows you to extract a subset of these variables meeting specific criteria. For example, you can just extract the main democracy indices (described in section 1 of the codebook) as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(vdem)

main_indices &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem.html">extract_vdem</a></span>(<span class="dt">section_number =</span> <span class="dv">1</span>)

main_indices
<span class="co">#&gt; # A tibble: 17,604 x 54</span>
<span class="co">#&gt;    vdem_country_name vdem_country_id vdem_country_text_id  year</span>
<span class="co">#&gt;                &lt;chr&gt;           &lt;dbl&gt;                &lt;chr&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1       Afghanistan              36                  AFG  1900</span>
<span class="co">#&gt;  2       Afghanistan              36                  AFG  1901</span>
<span class="co">#&gt;  3       Afghanistan              36                  AFG  1902</span>
<span class="co">#&gt;  4       Afghanistan              36                  AFG  1903</span>
<span class="co">#&gt;  5       Afghanistan              36                  AFG  1904</span>
<span class="co">#&gt;  6       Afghanistan              36                  AFG  1905</span>
<span class="co">#&gt;  7       Afghanistan              36                  AFG  1906</span>
<span class="co">#&gt;  8       Afghanistan              36                  AFG  1907</span>
<span class="co">#&gt;  9       Afghanistan              36                  AFG  1908</span>
<span class="co">#&gt; 10       Afghanistan              36                  AFG  1909</span>
<span class="co">#&gt; # ... with 17,594 more rows, and 50 more variables:</span>
<span class="co">#&gt; #   extended_country_name &lt;chr&gt;, GWn &lt;dbl&gt;, historical_date &lt;date&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;date&gt;, gapstart &lt;date&gt;, gapend &lt;date&gt;, codingend &lt;date&gt;,</span>
<span class="co">#&gt; #   vdem_cown &lt;dbl&gt;, v2x_polyarchy &lt;dbl&gt;, v2x_api &lt;dbl&gt;, v2x_mpi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem &lt;dbl&gt;, v2x_liberal &lt;dbl&gt;, v2x_partipdem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partip &lt;dbl&gt;, v2x_delibdem &lt;dbl&gt;, v2xdl_delib &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem &lt;dbl&gt;, v2x_egal &lt;dbl&gt;, v2x_polyarchy_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api_codelow &lt;dbl&gt;, v2x_mpi_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem_codelow &lt;dbl&gt;, v2x_liberal_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codelow &lt;dbl&gt;, v2x_partip_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem_codelow &lt;dbl&gt;, v2xdl_delib_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codelow &lt;dbl&gt;, v2x_egal_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy_codehigh &lt;dbl&gt;, v2x_api_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_mpi_codehigh &lt;dbl&gt;, v2x_libdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_liberal_codehigh &lt;dbl&gt;, v2x_partipdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partip_codehigh &lt;dbl&gt;, v2x_delibdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xdl_delib_codehigh &lt;dbl&gt;, v2x_egaldem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egal_codehigh &lt;dbl&gt;, GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;,</span>
<span class="co">#&gt; #   GWc &lt;chr&gt;, extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;,</span>
<span class="co">#&gt; #   microstate &lt;lgl&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>The function <code>extract_vdem</code> always returns a <code>tibble</code> with all the identifiers in the dataset (country name, id, year, COW code, etc.) plus the requested variables. (You will note that this table includes a couple of identifiers I added, providing information about the membership of the country-year in the <a href="http://privatewww.essex.ac.uk/~ksg/statelist.html">Gleditsch-Ward</a> state system membership list). You can also specify whether you want the measures of uncertainty included in the dataset (<code>_codehigh</code> and <code>_codelow</code> confidence interval extremes) returned, or whether certain variable types (e.g., ordinal-scale variables) should be excluded.</p>
<p>It is possible to extract variables whose labels mention certain words. For example, you can extract all the variables that mention “corruption” in the codebook labels:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">corruption_vars &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem.html">extract_vdem</a></span>(<span class="dt">label_pattern =</span> <span class="st">"corrupt"</span>)

corruption_vars
<span class="co">#&gt; # A tibble: 17,604 x 45</span>
<span class="co">#&gt;    vdem_country_name vdem_country_id vdem_country_text_id  year</span>
<span class="co">#&gt;                &lt;chr&gt;           &lt;dbl&gt;                &lt;chr&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1       Afghanistan              36                  AFG  1900</span>
<span class="co">#&gt;  2       Afghanistan              36                  AFG  1901</span>
<span class="co">#&gt;  3       Afghanistan              36                  AFG  1902</span>
<span class="co">#&gt;  4       Afghanistan              36                  AFG  1903</span>
<span class="co">#&gt;  5       Afghanistan              36                  AFG  1904</span>
<span class="co">#&gt;  6       Afghanistan              36                  AFG  1905</span>
<span class="co">#&gt;  7       Afghanistan              36                  AFG  1906</span>
<span class="co">#&gt;  8       Afghanistan              36                  AFG  1907</span>
<span class="co">#&gt;  9       Afghanistan              36                  AFG  1908</span>
<span class="co">#&gt; 10       Afghanistan              36                  AFG  1909</span>
<span class="co">#&gt; # ... with 17,594 more rows, and 41 more variables:</span>
<span class="co">#&gt; #   extended_country_name &lt;chr&gt;, GWn &lt;dbl&gt;, historical_date &lt;date&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;date&gt;, gapstart &lt;date&gt;, gapend &lt;date&gt;, codingend &lt;date&gt;,</span>
<span class="co">#&gt; #   vdem_cown &lt;dbl&gt;, v2x_corr &lt;dbl&gt;, v2x_pubcorr &lt;dbl&gt;, v2x_execorr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2exbribe &lt;dbl&gt;, v2excrptps &lt;dbl&gt;, v2lgcrrpt &lt;dbl&gt;, v2jucorrdc &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2mecorrpt &lt;dbl&gt;, v2x_corr_codelow &lt;dbl&gt;, v2x_pubcorr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_execorr_codelow &lt;dbl&gt;, v2exbribe_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2excrptps_codelow &lt;dbl&gt;, v2lgcrrpt_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2jucorrdc_codelow &lt;dbl&gt;, v2mecorrpt_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_corr_codehigh &lt;dbl&gt;, v2x_pubcorr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_execorr_codehigh &lt;dbl&gt;, v2exbribe_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2excrptps_codehigh &lt;dbl&gt;, v2lgcrrpt_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2jucorrdc_codehigh &lt;dbl&gt;, v2mecorrpt_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;, GWc &lt;chr&gt;,</span>
<span class="co">#&gt; #   extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;, microstate &lt;lgl&gt;,</span>
<span class="co">#&gt; #   lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>And here we extract variables that refer to civil society, including “external” ones bundled with the dataset but not produced by the V-Dem project itself:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">civil_society &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem.html">extract_vdem</a></span>(<span class="dt">name_pattern =</span> <span class="st">"^v2cl"</span>, <span class="dt">label_pattern =</span> <span class="st">"civil society"</span>, <span class="dt">include_external =</span> <span class="ot">TRUE</span>)

civil_society
<span class="co">#&gt; # A tibble: 17,604 x 143</span>
<span class="co">#&gt;    vdem_country_name vdem_country_id vdem_country_text_id  year</span>
<span class="co">#&gt;                &lt;chr&gt;           &lt;dbl&gt;                &lt;chr&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1       Afghanistan              36                  AFG  1900</span>
<span class="co">#&gt;  2       Afghanistan              36                  AFG  1901</span>
<span class="co">#&gt;  3       Afghanistan              36                  AFG  1902</span>
<span class="co">#&gt;  4       Afghanistan              36                  AFG  1903</span>
<span class="co">#&gt;  5       Afghanistan              36                  AFG  1904</span>
<span class="co">#&gt;  6       Afghanistan              36                  AFG  1905</span>
<span class="co">#&gt;  7       Afghanistan              36                  AFG  1906</span>
<span class="co">#&gt;  8       Afghanistan              36                  AFG  1907</span>
<span class="co">#&gt;  9       Afghanistan              36                  AFG  1908</span>
<span class="co">#&gt; 10       Afghanistan              36                  AFG  1909</span>
<span class="co">#&gt; # ... with 17,594 more rows, and 139 more variables:</span>
<span class="co">#&gt; #   extended_country_name &lt;chr&gt;, GWn &lt;dbl&gt;, historical_date &lt;date&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;date&gt;, gapstart &lt;date&gt;, gapend &lt;date&gt;, codingend &lt;date&gt;,</span>
<span class="co">#&gt; #   vdem_cown &lt;dbl&gt;, v2clacfree &lt;dbl&gt;, v2clrelig &lt;dbl&gt;, v2cltort &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clkill &lt;dbl&gt;, v2cltrnslw &lt;dbl&gt;, v2clrspct &lt;dbl&gt;, v2clfmove &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldmovem &lt;dbl&gt;, v2cldmovew &lt;dbl&gt;, v2cldiscm &lt;dbl&gt;, v2cldiscw &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clslavem &lt;dbl&gt;, v2clslavef &lt;dbl&gt;, v2clstown &lt;dbl&gt;, v2clprptym &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clprptyw &lt;dbl&gt;, v2clacjstm &lt;dbl&gt;, v2clacjstw &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacjust &lt;dbl&gt;, v2clsocgrp &lt;dbl&gt;, v2clrgunev &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clsnlpct &lt;dbl&gt;, v2clrgstch_0 &lt;dbl&gt;, v2clrgstch_1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_10 &lt;dbl&gt;, v2clrgstch_11 &lt;dbl&gt;, v2clrgstch_12 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_13 &lt;dbl&gt;, v2clrgstch_14 &lt;dbl&gt;, v2clrgstch_15 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_16 &lt;dbl&gt;, v2clrgstch_17 &lt;dbl&gt;, v2clrgstch_18 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_19 &lt;dbl&gt;, v2clrgstch_2 &lt;dbl&gt;, v2clrgstch_20 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_21 &lt;dbl&gt;, v2clrgstch_3 &lt;dbl&gt;, v2clrgstch_4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_5 &lt;dbl&gt;, v2clrgstch_6 &lt;dbl&gt;, v2clrgstch_7 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_8 &lt;dbl&gt;, v2clrgstch_9 &lt;dbl&gt;, v2clrgwkch_0 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_1 &lt;dbl&gt;, v2clrgwkch_10 &lt;dbl&gt;, v2clrgwkch_11 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_12 &lt;dbl&gt;, v2clrgwkch_13 &lt;dbl&gt;, v2clrgwkch_14 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_15 &lt;dbl&gt;, v2clrgwkch_16 &lt;dbl&gt;, v2clrgwkch_17 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_18 &lt;dbl&gt;, v2clrgwkch_19 &lt;dbl&gt;, v2clrgwkch_2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_20 &lt;dbl&gt;, v2clrgwkch_21 &lt;dbl&gt;, v2clrgwkch_3 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_4 &lt;dbl&gt;, v2clrgwkch_5 &lt;dbl&gt;, v2clrgwkch_6 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_7 &lt;dbl&gt;, v2clrgwkch_8 &lt;dbl&gt;, v2clrgwkch_9 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacfree_codelow &lt;dbl&gt;, v2clrelig_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltort_codelow &lt;dbl&gt;, v2clkill_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltrnslw_codelow &lt;dbl&gt;, v2clrspct_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clfmove_codelow &lt;dbl&gt;, v2cldmovem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldmovew_codelow &lt;dbl&gt;, v2cldiscm_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldiscw_codelow &lt;dbl&gt;, v2clslavem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clslavef_codelow &lt;dbl&gt;, v2clstown_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clprptym_codelow &lt;dbl&gt;, v2clprptyw_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacjstm_codelow &lt;dbl&gt;, v2clacjstw_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacjust_codelow &lt;dbl&gt;, v2clsocgrp_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgunev_codelow &lt;dbl&gt;, v2clsnlpct_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacfree_codehigh &lt;dbl&gt;, v2clrelig_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltort_codehigh &lt;dbl&gt;, v2clkill_codehigh &lt;dbl&gt;, ...</span></code></pre></div>
<p>You can use any regular expression you like to search over the variable names or label names. See <code><a href="reference/extract_vdem.html">?extract_vdem</a></code> for all options.</p>
<p>If you need more control over the variables extracted, or need to learn more about them, you can use the codebook:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem_codebook
<span class="co">#&gt; # A tibble: 1,216 x 18</span>
<span class="co">#&gt;    section number          name                          label  type</span>
<span class="co">#&gt;      &lt;int&gt;  &lt;chr&gt;         &lt;chr&gt;                          &lt;chr&gt; &lt;chr&gt;</span>
<span class="co">#&gt;  1       1    1.1 v2x_polyarchy      Electoral democracy index   (D)</span>
<span class="co">#&gt;  2       1    1.2       v2x_api       Additive polyarchy index   (D)</span>
<span class="co">#&gt;  3       1    1.3       v2x_mpi Multiplicative polyarchy index   (D)</span>
<span class="co">#&gt;  4       1    1.4    v2x_libdem        Liberal democracy index   (D)</span>
<span class="co">#&gt;  5       1    1.5   v2x_liberal        Liberal component index   (D)</span>
<span class="co">#&gt;  6       1    1.6 v2x_partipdem  Participatory democracy index   (D)</span>
<span class="co">#&gt;  7       1    1.7    v2x_partip  Participatory component index   (D)</span>
<span class="co">#&gt;  8       1    1.8  v2x_delibdem   Deliberative democracy index   (D)</span>
<span class="co">#&gt;  9       1    1.9   v2xdl_delib   Deliberative component index   (D)</span>
<span class="co">#&gt; 10       1   1.10   v2x_egaldem    Egalitarian democracy index   (D)</span>
<span class="co">#&gt; # ... with 1,206 more rows, and 13 more variables: project_manager &lt;chr&gt;,</span>
<span class="co">#&gt; #   compiler &lt;chr&gt;, question &lt;chr&gt;, clarification &lt;chr&gt;, responses &lt;chr&gt;,</span>
<span class="co">#&gt; #   scale &lt;chr&gt;, aggregation &lt;chr&gt;, note &lt;chr&gt;, ordering &lt;chr&gt;,</span>
<span class="co">#&gt; #   cross_coder &lt;chr&gt;, source &lt;chr&gt;, data_release &lt;chr&gt;, citation &lt;chr&gt;</span></code></pre></div>
<p>You can use the function <code>extract_vdem_filter</code> to exercise finer control over the extraction process. For example, here we extract all variables listed in section 1 of the codebook except component indices:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section ==<span class="st"> </span><span class="dv">1</span>, !<span class="kw">grepl</span>(<span class="st">"component index"</span>, label))
<span class="co">#&gt; # A tibble: 17,604 x 42</span>
<span class="co">#&gt;    vdem_country_name vdem_country_id vdem_country_text_id  year</span>
<span class="co">#&gt;                &lt;chr&gt;           &lt;dbl&gt;                &lt;chr&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1       Afghanistan              36                  AFG  1900</span>
<span class="co">#&gt;  2       Afghanistan              36                  AFG  1901</span>
<span class="co">#&gt;  3       Afghanistan              36                  AFG  1902</span>
<span class="co">#&gt;  4       Afghanistan              36                  AFG  1903</span>
<span class="co">#&gt;  5       Afghanistan              36                  AFG  1904</span>
<span class="co">#&gt;  6       Afghanistan              36                  AFG  1905</span>
<span class="co">#&gt;  7       Afghanistan              36                  AFG  1906</span>
<span class="co">#&gt;  8       Afghanistan              36                  AFG  1907</span>
<span class="co">#&gt;  9       Afghanistan              36                  AFG  1908</span>
<span class="co">#&gt; 10       Afghanistan              36                  AFG  1909</span>
<span class="co">#&gt; # ... with 17,594 more rows, and 38 more variables:</span>
<span class="co">#&gt; #   extended_country_name &lt;chr&gt;, GWn &lt;dbl&gt;, historical_date &lt;date&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;date&gt;, gapstart &lt;date&gt;, gapend &lt;date&gt;, codingend &lt;date&gt;,</span>
<span class="co">#&gt; #   vdem_cown &lt;dbl&gt;, v2x_polyarchy &lt;dbl&gt;, v2x_api &lt;dbl&gt;, v2x_mpi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem &lt;dbl&gt;, v2x_partipdem &lt;dbl&gt;, v2x_delibdem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem &lt;dbl&gt;, v2x_polyarchy_codelow &lt;dbl&gt;, v2x_api_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_mpi_codelow &lt;dbl&gt;, v2x_libdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codelow &lt;dbl&gt;, v2x_delibdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codelow &lt;dbl&gt;, v2x_polyarchy_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api_codehigh &lt;dbl&gt;, v2x_mpi_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem_codehigh &lt;dbl&gt;, v2x_partipdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem_codehigh &lt;dbl&gt;, v2x_egaldem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;, GWc &lt;chr&gt;,</span>
<span class="co">#&gt; #   extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;, microstate &lt;lgl&gt;,</span>
<span class="co">#&gt; #   lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>And then you can easily use the data for your analyses or to make pretty pictures:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="co">#&gt; Loading tidyverse: ggplot2</span>
<span class="co">#&gt; Loading tidyverse: tibble</span>
<span class="co">#&gt; Loading tidyverse: tidyr</span>
<span class="co">#&gt; Loading tidyverse: readr</span>
<span class="co">#&gt; Loading tidyverse: purrr</span>
<span class="co">#&gt; Loading tidyverse: dplyr</span>
<span class="co">#&gt; Conflicts with tidy packages ----------------------------------------------</span>
<span class="co">#&gt; filter(): dplyr, stats</span>
<span class="co">#&gt; lag():    dplyr, stats</span>

data &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section ==<span class="st"> </span><span class="dv">1</span>, !<span class="kw">grepl</span>(<span class="st">"component index"</span>, label),
                            <span class="dt">include_uncertainty =</span> <span class="ot">FALSE</span>) %&gt;%
<span class="st">  </span><span class="kw">gather</span>(index, index_value, v2x_polyarchy:v2x_egaldem) %&gt;%
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, index, index_value) %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(<span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section ==<span class="st"> </span><span class="dv">1</span>, !<span class="kw">grepl</span>(<span class="st">"component index"</span>, label),
                            <span class="dt">include_uncertainty =</span> <span class="ot">FALSE</span>, <span class="dt">include_sd =</span> <span class="ot">TRUE</span>) %&gt;%
<span class="st">              </span><span class="kw">gather</span>(sd, sd_value, v2x_polyarchy_sd:v2x_egaldem_sd) %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(-v2x_polyarchy:-v2x_egaldem) %&gt;%
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, sd, sd_value)) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(index ==<span class="st"> </span>stringr::<span class="kw">str_replace</span>(sd, <span class="st">"_sd"</span>,<span class="st">""</span>)) %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(vdem_codebook %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(name, label) %&gt;%
<span class="st">              </span><span class="kw">rename</span>(<span class="dt">index =</span> name)) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(!<span class="kw">is.na</span>(index)) %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(year, index) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_index =</span> <span class="kw">mean</span>(index_value, <span class="dt">na.rm=</span><span class="ot">TRUE</span>), 
            <span class="dt">se =</span> <span class="kw">sqrt</span>(<span class="kw">sum</span>(sd_value^<span class="dv">2</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))/<span class="kw">n</span>(),
            <span class="dt">pct_025 =</span> mean_index -<span class="st"> </span><span class="fl">1.96</span>*se,
            <span class="dt">pct_975 =</span> mean_index +<span class="st"> </span><span class="fl">1.96</span>*se,
            <span class="dt">label =</span> <span class="kw">unique</span>(label))
<span class="co">#&gt; Warning: attributes are not identical across measure variables;</span>
<span class="co">#&gt; they will be dropped</span>

<span class="co">#&gt; Warning: attributes are not identical across measure variables;</span>
<span class="co">#&gt; they will be dropped</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = "index"</span>

<span class="kw">library</span>(ggrepel)  
<span class="kw">ggplot</span>(data %&gt;%<span class="st"> </span><span class="kw">filter</span>(year &gt;<span class="st"> </span><span class="dv">1900</span>)) +
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> mean_index, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">ymin =</span> pct_025, <span class="dt">ymax =</span> pct_975, <span class="dt">group =</span> label), 
              <span class="dt">fill =</span> <span class="st">"grey"</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) +
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> data %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">filter</span>(year ==<span class="st"> </span><span class="dv">2016</span>),
            <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> mean_index, <span class="dt">label =</span> label, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">theme_bw</span>() +
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">"Avg. level of democracy</span><span class="ch">\n</span><span class="st">(according to V-Dem main indices)"</span>,
         <span class="dt">color =</span> <span class="st">""</span>, <span class="dt">x =</span> <span class="st">""</span>,
         <span class="dt">title =</span> <span class="st">"Average level of democracy in the world, 1900-2016"</span>,
         <span class="dt">subtitle =</span> <span class="st">"Average over all countries in year for each index.</span><span class="ch">\n</span><span class="st">Each index ranges from 0 = least democratic to 1 = most democratic.</span><span class="ch">\n</span><span class="st">Dotted lines indicate WWI, WWII, and the end of the Cold War."</span>,
         <span class="dt">caption =</span> <span class="st">"Data from V-Dem dataset, version 7.1"</span>) +
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw">c</span>(<span class="dv">1914</span>, <span class="dv">1918</span>, <span class="dv">1939</span>, <span class="dv">1945</span>, <span class="dv">1989</span>), <span class="dt">linetype =</span> <span class="dv">3</span>) +
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">1900</span>, <span class="dv">2030</span>))</code></pre></div>
<p><img src="README-unnamed-chunk-7-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
data &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section ==<span class="st"> </span><span class="dv">1</span>, !<span class="kw">grepl</span>(<span class="st">"component index"</span>, label),
                            <span class="dt">include_uncertainty =</span> <span class="ot">FALSE</span>) %&gt;%
<span class="st">  </span><span class="kw">gather</span>(index, index_value, v2x_polyarchy:v2x_egaldem) %&gt;%
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, index, index_value) %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(<span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section ==<span class="st"> </span><span class="dv">1</span>, !<span class="kw">grepl</span>(<span class="st">"component index"</span>, label)) %&gt;%
<span class="st">              </span><span class="kw">gather</span>(codelow, codelow_value, v2x_polyarchy_codelow:v2x_egaldem_codelow) %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(-v2x_polyarchy:-v2x_egaldem) %&gt;%
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, codelow, codelow_value)) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(index ==<span class="st"> </span>stringr::<span class="kw">str_replace</span>(codelow, <span class="st">"_codelow"</span>,<span class="st">""</span>))  %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(<span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section ==<span class="st"> </span><span class="dv">1</span>, !<span class="kw">grepl</span>(<span class="st">"component index"</span>, label)) %&gt;%
<span class="st">              </span><span class="kw">gather</span>(codehigh, codehigh_value, v2x_polyarchy_codehigh:v2x_egaldem_codehigh) %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(-v2x_polyarchy:-v2x_egaldem) %&gt;%
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, codehigh, codehigh_value)) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(index ==<span class="st"> </span>stringr::<span class="kw">str_replace</span>(codehigh, <span class="st">"_codehigh"</span>,<span class="st">""</span>)) %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(vdem_codebook %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(name, label) %&gt;%
<span class="st">              </span><span class="kw">rename</span>(<span class="dt">index =</span> name)) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(!<span class="kw">is.na</span>(index), 
         vdem_country_name %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">"Venezuela"</span>, 
                                  <span class="st">"United States"</span>, 
                                  <span class="st">"Turkey"</span>, <span class="st">"Russia"</span>))
<span class="co">#&gt; Warning: attributes are not identical across measure variables;</span>
<span class="co">#&gt; they will be dropped</span>

<span class="co">#&gt; Warning: attributes are not identical across measure variables;</span>
<span class="co">#&gt; they will be dropped</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Warning: attributes are not identical across measure variables;</span>
<span class="co">#&gt; they will be dropped</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = "index"</span>

 
<span class="kw">ggplot</span>(data) +
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> index_value, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">ymin =</span> codelow_value, <span class="dt">ymax =</span> codehigh_value, <span class="dt">group =</span> label), 
              <span class="dt">fill =</span> <span class="st">"grey"</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) +
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> data %&gt;%<span class="st"> </span>
<span class="st">              </span><span class="kw">filter</span>(year ==<span class="st"> </span><span class="dv">2016</span>),
            <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> index_value, <span class="dt">label =</span> label, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">theme_bw</span>() +
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">"Avg. level of democracy</span><span class="ch">\n</span><span class="st">(according to V-Dem main indices)"</span>,
         <span class="dt">color =</span> <span class="st">""</span>, <span class="dt">x =</span> <span class="st">""</span>,
         <span class="dt">title =</span> <span class="st">"Average level of democracy in selected countries, 1900-2016"</span>,
         <span class="dt">subtitle =</span> <span class="st">"Each index ranges from 0 = least democratic to 1 = most democratic.</span><span class="ch">\n</span><span class="st">Dotted lines indicate WWI, WWII, and the end of the Cold War."</span>,
         <span class="dt">caption =</span> <span class="st">"Data from V-Dem dataset, version 7.1"</span>) +
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw">c</span>(<span class="dv">1914</span>, <span class="dv">1918</span>, <span class="dv">1939</span>, <span class="dv">1945</span>, <span class="dv">1989</span>), <span class="dt">linetype =</span> <span class="dv">3</span>) +
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="fl">0.5</span>, <span class="dt">color =</span> <span class="st">"red"</span>) +
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">1900</span>, <span class="dv">2030</span>)) +
<span class="st">  </span><span class="kw">facet_wrap</span>(~vdem_country_name, <span class="dt">ncol =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="README-unnamed-chunk-8-1.png" width="672"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing vdem</a></li>
</ul>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Xavier Marquez <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/xmarquez/vdem"><img src="https://travis-ci.org/xmarquez/vdem.svg?branch=master" alt="Travis-CI Build Status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Xavier Marquez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
