<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contains the Varieties of Democracy (V-Dem) Dataset v. 11 • vdem</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Contains the Varieties of Democracy (V-Dem) Dataset v. 11">
<meta property="og:description" content="Contains the Varieties of Democracy (V-Dem) Dataset v. 11 plus external variables, 
  the codebook in data frame format, and some functions to ease the extraction of vdem data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">vdem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="vdem" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#vdem" class="anchor"></a>vdem</h1></div>
<p>This package provides access to the <a href="https://www.v-dem.net/en/data/data-version-11/">Varieties of Democracy (V-Dem) dataset, version 11</a>. It includes the dataset’s codebook as a data frame, which allows one to easily search for variables by label or other descriptors. And it also includes a couple of convenience functions, <code>extract_vdem</code> and <code>extract_vdem_filter</code>, to extract subsets of the dataset meeting particular criteria.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>This package is only available on Github for now. Install as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"xmarquez/vdem"</span>)</span></code></pre></div>
</div>
<div id="accessing-the-vdem-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-the-vdem-dataset" class="anchor"></a>Accessing the VDem dataset</h2>
<p>You can access the entire V-Dem dataset by typing <code>VDem_plus</code>. (Access documentation on the dataset by typing <code><a href="reference/VDem_plus.html">?VDem_plus</a></code>, or typing <code>vdem_codebook</code> to access the codebook as a data frame.).</p>
</div>
<div id="extracting-specific-variables-by-label-section-number-etc" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-specific-variables-by-label-section-number-etc" class="anchor"></a>Extracting specific variables by label, section number, etc.</h2>
<p>The V-Dem dataset is pretty big; including external variables and identifiers, it has <code>27192</code> rows and <code>4188</code> columns, which takes up a lot of memory and can be confusing to work with. This package thus makes available the function <code>extract_vdem</code>, which allows you to extract a subset of these variables meeting specific criteria. For example, you can just extract the main democracy indices (described in section 2 of the codebook) as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">vdem</span><span class="op">)</span>

<span class="va">main_indices</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_vdem.html">extract_vdem</a></span><span class="op">(</span>section_number <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>

<span class="va">main_indices</span>
<span class="co">#&gt; # A tibble: 27,192 x 105</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Mexico           MEX                            3  1789 Mexico          </span>
<span class="co">#&gt;  2 Mexico           MEX                            3  1790 Mexico          </span>
<span class="co">#&gt;  3 Mexico           MEX                            3  1791 Mexico          </span>
<span class="co">#&gt;  4 Mexico           MEX                            3  1792 Mexico          </span>
<span class="co">#&gt;  5 Mexico           MEX                            3  1793 Mexico          </span>
<span class="co">#&gt;  6 Mexico           MEX                            3  1794 Mexico          </span>
<span class="co">#&gt;  7 Mexico           MEX                            3  1795 Mexico          </span>
<span class="co">#&gt;  8 Mexico           MEX                            3  1796 Mexico          </span>
<span class="co">#&gt;  9 Mexico           MEX                            3  1797 Mexico          </span>
<span class="co">#&gt; 10 Mexico           MEX                            3  1798 Mexico          </span>
<span class="co">#&gt; # ... with 27,182 more rows, and 100 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;dbl&gt;, histname &lt;chr&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;, codingstart_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingend_contemp &lt;dbl&gt;, codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart1 &lt;dbl&gt;, gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend2 &lt;dbl&gt;, gapend3 &lt;dbl&gt;, gap_index &lt;dbl&gt;, vdem_cown &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy &lt;dbl&gt;, v2x_libdem &lt;dbl&gt;, v2x_partipdem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem &lt;dbl&gt;, v2x_egaldem &lt;dbl&gt;, v2x_api &lt;dbl&gt;, v2x_mpi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf &lt;dbl&gt;, v2x_frassoc_thick &lt;dbl&gt;, v2x_suffr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair &lt;dbl&gt;, v2x_elecoff &lt;dbl&gt;, v2x_liberal &lt;dbl&gt;, v2xcl_rol &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_jucon &lt;dbl&gt;, v2xlg_legcon &lt;dbl&gt;, v2x_partip &lt;dbl&gt;, v2x_cspart &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xdd_dd &lt;dbl&gt;, v2xel_locelec &lt;dbl&gt;, v2xel_regelec &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xdl_delib &lt;dbl&gt;, v2x_egal &lt;dbl&gt;, v2xeg_eqprotec &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess &lt;dbl&gt;, v2xeg_eqdr &lt;dbl&gt;, v2x_polyarchy_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem_codelow &lt;dbl&gt;, v2x_partipdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem_codelow &lt;dbl&gt;, v2x_egaldem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api_codelow &lt;dbl&gt;, v2x_mpi_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf_codelow &lt;dbl&gt;, v2x_frassoc_thick_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair_codelow &lt;dbl&gt;, v2x_liberal_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xcl_rol_codelow &lt;dbl&gt;, v2x_jucon_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xlg_legcon_codelow &lt;dbl&gt;, v2x_partip_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart_codelow &lt;dbl&gt;, v2xel_locelec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec_codelow &lt;dbl&gt;, v2xdl_delib_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egal_codelow &lt;dbl&gt;, v2xeg_eqprotec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess_codelow &lt;dbl&gt;, v2xeg_eqdr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy_codehigh &lt;dbl&gt;, v2x_libdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codehigh &lt;dbl&gt;, v2x_delibdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codehigh &lt;dbl&gt;, v2x_api_codehigh &lt;dbl&gt;, v2x_mpi_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf_codehigh &lt;dbl&gt;, v2x_frassoc_thick_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair_codehigh &lt;dbl&gt;, v2x_liberal_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xcl_rol_codehigh &lt;dbl&gt;, v2x_jucon_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xlg_legcon_codehigh &lt;dbl&gt;, v2x_partip_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart_codehigh &lt;dbl&gt;, v2xel_locelec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec_codehigh &lt;dbl&gt;, v2xdl_delib_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egal_codehigh &lt;dbl&gt;, v2xeg_eqprotec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess_codehigh &lt;dbl&gt;, v2xeg_eqdr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;, GWc &lt;chr&gt;, extended_region &lt;chr&gt;,</span>
<span class="co">#&gt; #   extended_continent &lt;chr&gt;, microstate &lt;lgl&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;,</span>
<span class="co">#&gt; #   in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>The function <code>extract_vdem</code> always returns a <code>tibble</code> with all the identifiers in the dataset (country name, id, year, COW code, etc.) plus the requested variables. (You will note that this table includes a couple of identifiers I added, providing information about the membership of the country-year in the <a href="http://privatewww.essex.ac.uk/~ksg/statelist.html">Gleditsch-Ward</a> state system membership list). You can also specify whether you want the measures of uncertainty included in the dataset (<code>_codehigh</code> and <code>_codelow</code> confidence interval extremes) returned, or whether certain variable types (e.g., ordinal-scale variables) should be excluded.</p>
<p>It is possible to extract variables whose labels mention certain words. For example, you can extract all the variables that mention “corruption” in the codebook labels:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">corruption_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_vdem.html">extract_vdem</a></span><span class="op">(</span>label_pattern <span class="op">=</span> <span class="st">"corrupt"</span><span class="op">)</span>

<span class="va">corruption_vars</span>
<span class="co">#&gt; # A tibble: 27,192 x 63</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Mexico           MEX                            3  1789 Mexico          </span>
<span class="co">#&gt;  2 Mexico           MEX                            3  1790 Mexico          </span>
<span class="co">#&gt;  3 Mexico           MEX                            3  1791 Mexico          </span>
<span class="co">#&gt;  4 Mexico           MEX                            3  1792 Mexico          </span>
<span class="co">#&gt;  5 Mexico           MEX                            3  1793 Mexico          </span>
<span class="co">#&gt;  6 Mexico           MEX                            3  1794 Mexico          </span>
<span class="co">#&gt;  7 Mexico           MEX                            3  1795 Mexico          </span>
<span class="co">#&gt;  8 Mexico           MEX                            3  1796 Mexico          </span>
<span class="co">#&gt;  9 Mexico           MEX                            3  1797 Mexico          </span>
<span class="co">#&gt; 10 Mexico           MEX                            3  1798 Mexico          </span>
<span class="co">#&gt; # ... with 27,182 more rows, and 58 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;dbl&gt;, histname &lt;chr&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;, codingstart_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingend_contemp &lt;dbl&gt;, codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart1 &lt;dbl&gt;, gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend2 &lt;dbl&gt;, gapend3 &lt;dbl&gt;, gap_index &lt;dbl&gt;, vdem_cown &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2exbribe &lt;dbl&gt;, v2excrptps &lt;dbl&gt;, v2lgcrrpt &lt;dbl&gt;, v2jucorrdc &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2mecorrpt &lt;dbl&gt;, v3lgcrrpt &lt;dbl&gt;, v2xnp_regcorr &lt;dbl&gt;, v2x_corr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_execorr &lt;dbl&gt;, v2x_pubcorr &lt;dbl&gt;, v2exbribe_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2excrptps_codelow &lt;dbl&gt;, v2lgcrrpt_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2jucorrdc_codelow &lt;dbl&gt;, v2mecorrpt_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v3lgcrrpt_codelow &lt;dbl&gt;, v2xnp_regcorr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_corr_codelow &lt;dbl&gt;, v2x_execorr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_pubcorr_codelow &lt;dbl&gt;, v2exbribe_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2excrptps_codehigh &lt;dbl&gt;, v2lgcrrpt_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2jucorrdc_codehigh &lt;dbl&gt;, v2mecorrpt_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v3lgcrrpt_codehigh &lt;dbl&gt;, v2xnp_regcorr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_corr_codehigh &lt;dbl&gt;, v2x_execorr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_pubcorr_codehigh &lt;dbl&gt;, GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;,</span>
<span class="co">#&gt; #   GWc &lt;chr&gt;, extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;,</span>
<span class="co">#&gt; #   microstate &lt;lgl&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>And here we extract variables that refer to civil society, including “external” ones bundled with the dataset but not produced by the V-Dem project itself:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">civil_society</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_vdem.html">extract_vdem</a></span><span class="op">(</span>name_pattern <span class="op">=</span> <span class="st">"^v2cl"</span>, 
                              label_pattern <span class="op">=</span> <span class="st">"civil society"</span>, 
                              include_external <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">civil_society</span>
<span class="co">#&gt; # A tibble: 27,192 x 158</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Mexico           MEX                            3  1789 Mexico          </span>
<span class="co">#&gt;  2 Mexico           MEX                            3  1790 Mexico          </span>
<span class="co">#&gt;  3 Mexico           MEX                            3  1791 Mexico          </span>
<span class="co">#&gt;  4 Mexico           MEX                            3  1792 Mexico          </span>
<span class="co">#&gt;  5 Mexico           MEX                            3  1793 Mexico          </span>
<span class="co">#&gt;  6 Mexico           MEX                            3  1794 Mexico          </span>
<span class="co">#&gt;  7 Mexico           MEX                            3  1795 Mexico          </span>
<span class="co">#&gt;  8 Mexico           MEX                            3  1796 Mexico          </span>
<span class="co">#&gt;  9 Mexico           MEX                            3  1797 Mexico          </span>
<span class="co">#&gt; 10 Mexico           MEX                            3  1798 Mexico          </span>
<span class="co">#&gt; # ... with 27,182 more rows, and 153 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;dbl&gt;, histname &lt;chr&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;, codingstart_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingend_contemp &lt;dbl&gt;, codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart1 &lt;dbl&gt;, gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend2 &lt;dbl&gt;, gapend3 &lt;dbl&gt;, gap_index &lt;dbl&gt;, vdem_cown &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltort &lt;dbl&gt;, v2clkill &lt;dbl&gt;, v2clslavem &lt;dbl&gt;, v2clslavef &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltrnslw &lt;dbl&gt;, v2clrspct &lt;dbl&gt;, v2clacjstm &lt;dbl&gt;, v2clacjstw &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacjust &lt;dbl&gt;, v2clsocgrp &lt;dbl&gt;, v2clrgunev &lt;dbl&gt;, v2clsnlpct &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldiscm &lt;dbl&gt;, v2cldiscw &lt;dbl&gt;, v2clacfree &lt;dbl&gt;, v2clrelig &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clfmove &lt;dbl&gt;, v2cldmovem &lt;dbl&gt;, v2cldmovew &lt;dbl&gt;, v2clstown &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clprptym &lt;dbl&gt;, v2clprptyw &lt;dbl&gt;, v2clgencl &lt;dbl&gt;, v2clgeocl &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clpolcl &lt;dbl&gt;, v2clrgstch_0 &lt;dbl&gt;, v2clrgstch_1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_2 &lt;dbl&gt;, v2clrgstch_3 &lt;dbl&gt;, v2clrgstch_4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_5 &lt;dbl&gt;, v2clrgstch_6 &lt;dbl&gt;, v2clrgstch_7 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_8 &lt;dbl&gt;, v2clrgstch_9 &lt;dbl&gt;, v2clrgstch_10 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_11 &lt;dbl&gt;, v2clrgstch_12 &lt;dbl&gt;, v2clrgstch_13 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_14 &lt;dbl&gt;, v2clrgstch_15 &lt;dbl&gt;, v2clrgstch_16 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_17 &lt;dbl&gt;, v2clrgstch_18 &lt;dbl&gt;, v2clrgstch_19 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_20 &lt;dbl&gt;, v2clrgstch_21 &lt;dbl&gt;, v2clrgwkch_0 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_1 &lt;dbl&gt;, v2clrgwkch_2 &lt;dbl&gt;, v2clrgwkch_3 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_4 &lt;dbl&gt;, v2clrgwkch_5 &lt;dbl&gt;, v2clrgwkch_6 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_7 &lt;dbl&gt;, v2clrgwkch_8 &lt;dbl&gt;, v2clrgwkch_9 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_10 &lt;dbl&gt;, v2clrgwkch_11 &lt;dbl&gt;, v2clrgwkch_12 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_13 &lt;dbl&gt;, v2clrgwkch_14 &lt;dbl&gt;, v2clrgwkch_15 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_16 &lt;dbl&gt;, v2clrgwkch_17 &lt;dbl&gt;, v2clrgwkch_18 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_19 &lt;dbl&gt;, v2clrgwkch_20 &lt;dbl&gt;, v2clrgwkch_21 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltort_codelow &lt;dbl&gt;, v2clkill_codelow &lt;dbl&gt;, v2clslavem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clslavef_codelow &lt;dbl&gt;, v2cltrnslw_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrspct_codelow &lt;dbl&gt;, v2clacjstm_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacjstw_codelow &lt;dbl&gt;, v2clacjust_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clsocgrp_codelow &lt;dbl&gt;, v2clrgunev_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clsnlpct_codelow &lt;dbl&gt;, ...</span></code></pre></div>
<p>You can use any regular expression you like to search over the variable names or label names. See <code><a href="reference/extract_vdem.html">?extract_vdem</a></code> for all options.</p>
<p>If you need more control over the variables extracted, or need to learn more about them, you can use the codebook:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">vdem_codebook</span>
<span class="co">#&gt; # A tibble: 764 x 22</span>
<span class="co">#&gt;    section number name  label type  project_manager additional_vers~</span>
<span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;           </span>
<span class="co">#&gt;  1       2 2.1.1  v2x_~ Elec~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  2       2 2.1.2  v2x_~ Libe~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  3       2 2.1.3  v2x_~ Libe~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  4       2 2.1.4  v2x_~ Part~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  5       2 2.1.5  v2x_~ Deli~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  6       2 2.1.6  v2x_~ Egal~ (D)   Rachel Sigman,~ *_codelow, *_co~</span>
<span class="co">#&gt;  7       2 2.2.1  v2x_~ Addi~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  8       2 2.2.2  v2x_~ Mult~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  9       2 2.2.3  v2x_~ Free~ (D)   Svend-Erik Ska~ *_codelow, *_co~</span>
<span class="co">#&gt; 10       2 2.2.4  v2x_~ Free~ (D)   Allen Hicken, ~ *_codelow, *_co~</span>
<span class="co">#&gt; # ... with 754 more rows, and 15 more variables: available_versions &lt;chr&gt;,</span>
<span class="co">#&gt; #   question &lt;chr&gt;, clarification &lt;chr&gt;, responses &lt;chr&gt;, answer_type &lt;chr&gt;,</span>
<span class="co">#&gt; #   scale &lt;chr&gt;, ordering &lt;chr&gt;, aggregation &lt;chr&gt;, cross_coder &lt;chr&gt;,</span>
<span class="co">#&gt; #   data_release &lt;chr&gt;, source &lt;chr&gt;, cleaning &lt;chr&gt;, citation &lt;chr&gt;,</span>
<span class="co">#&gt; #   years &lt;chr&gt;, note &lt;chr&gt;</span></code></pre></div>
<p>You can use the function <code>extract_vdem_filter</code> to exercise finer control over the extraction process. For example, here we extract all variables listed in section 2 of the codebook except component indices:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span><span class="op">(</span><span class="va">section</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"component index"</span>, <span class="va">label</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 27,192 x 93</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Mexico           MEX                            3  1789 Mexico          </span>
<span class="co">#&gt;  2 Mexico           MEX                            3  1790 Mexico          </span>
<span class="co">#&gt;  3 Mexico           MEX                            3  1791 Mexico          </span>
<span class="co">#&gt;  4 Mexico           MEX                            3  1792 Mexico          </span>
<span class="co">#&gt;  5 Mexico           MEX                            3  1793 Mexico          </span>
<span class="co">#&gt;  6 Mexico           MEX                            3  1794 Mexico          </span>
<span class="co">#&gt;  7 Mexico           MEX                            3  1795 Mexico          </span>
<span class="co">#&gt;  8 Mexico           MEX                            3  1796 Mexico          </span>
<span class="co">#&gt;  9 Mexico           MEX                            3  1797 Mexico          </span>
<span class="co">#&gt; 10 Mexico           MEX                            3  1798 Mexico          </span>
<span class="co">#&gt; # ... with 27,182 more rows, and 88 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;dbl&gt;, histname &lt;chr&gt;,</span>
<span class="co">#&gt; #   codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;, codingstart_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingend_contemp &lt;dbl&gt;, codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart1 &lt;dbl&gt;, gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend2 &lt;dbl&gt;, gapend3 &lt;dbl&gt;, gap_index &lt;dbl&gt;, vdem_cown &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy &lt;dbl&gt;, v2x_libdem &lt;dbl&gt;, v2x_partipdem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem &lt;dbl&gt;, v2x_egaldem &lt;dbl&gt;, v2x_api &lt;dbl&gt;, v2x_mpi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf &lt;dbl&gt;, v2x_frassoc_thick &lt;dbl&gt;, v2x_suffr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair &lt;dbl&gt;, v2x_elecoff &lt;dbl&gt;, v2xcl_rol &lt;dbl&gt;, v2x_jucon &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xlg_legcon &lt;dbl&gt;, v2x_cspart &lt;dbl&gt;, v2xdd_dd &lt;dbl&gt;, v2xel_locelec &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec &lt;dbl&gt;, v2xeg_eqprotec &lt;dbl&gt;, v2xeg_eqaccess &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqdr &lt;dbl&gt;, v2x_polyarchy_codelow &lt;dbl&gt;, v2x_libdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codelow &lt;dbl&gt;, v2x_delibdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codelow &lt;dbl&gt;, v2x_api_codelow &lt;dbl&gt;, v2x_mpi_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf_codelow &lt;dbl&gt;, v2x_frassoc_thick_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair_codelow &lt;dbl&gt;, v2xcl_rol_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_jucon_codelow &lt;dbl&gt;, v2xlg_legcon_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart_codelow &lt;dbl&gt;, v2xel_locelec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec_codelow &lt;dbl&gt;, v2xeg_eqprotec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess_codelow &lt;dbl&gt;, v2xeg_eqdr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy_codehigh &lt;dbl&gt;, v2x_libdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codehigh &lt;dbl&gt;, v2x_delibdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codehigh &lt;dbl&gt;, v2x_api_codehigh &lt;dbl&gt;, v2x_mpi_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf_codehigh &lt;dbl&gt;, v2x_frassoc_thick_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair_codehigh &lt;dbl&gt;, v2xcl_rol_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_jucon_codehigh &lt;dbl&gt;, v2xlg_legcon_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart_codehigh &lt;dbl&gt;, v2xel_locelec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec_codehigh &lt;dbl&gt;, v2xeg_eqprotec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess_codehigh &lt;dbl&gt;, v2xeg_eqdr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;, GWc &lt;chr&gt;, extended_region &lt;chr&gt;,</span>
<span class="co">#&gt; #   extended_continent &lt;chr&gt;, microstate &lt;lgl&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;,</span>
<span class="co">#&gt; #   in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>And then you can easily use the data for your analyses or to make pretty pictures:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="co">#&gt; -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</span>
<span class="co">#&gt; v ggplot2 3.3.3     v purrr   0.3.4</span>
<span class="co">#&gt; v tibble  3.0.5     v dplyr   1.0.2</span>
<span class="co">#&gt; v tidyr   1.1.2     v stringr 1.4.0</span>
<span class="co">#&gt; v readr   1.4.0     v forcats 0.5.0</span>
<span class="co">#&gt; -- Conflicts ------------------------------------------ tidyverse_conflicts() --</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span>

<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span><span class="op">(</span><span class="va">section</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"component index"</span>, <span class="va">label</span><span class="op">)</span>,
                            include_uncertainty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gather</span><span class="op">(</span><span class="va">index</span>, <span class="va">index_value</span>, <span class="va">v2x_polyarchy</span><span class="op">:</span><span class="va">v2x_egaldem</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">vdem_country_name</span>, <span class="va">vdem_country_id</span>, <span class="va">year</span>, <span class="va">index</span>, <span class="va">index_value</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">left_join</span><span class="op">(</span><span class="fu"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span><span class="op">(</span><span class="va">section</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"component index"</span>, <span class="va">label</span><span class="op">)</span>,
                            include_uncertainty <span class="op">=</span> <span class="cn">FALSE</span>, include_sd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
              <span class="fu">gather</span><span class="op">(</span><span class="va">sd</span>, <span class="va">sd_value</span>, <span class="va">v2x_polyarchy_sd</span><span class="op">:</span><span class="va">v2x_egaldem_sd</span><span class="op">)</span> <span class="op">%&gt;%</span> 
              <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">v2x_polyarchy</span><span class="op">:</span><span class="op">-</span><span class="va">v2x_egaldem</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">vdem_country_name</span>, <span class="va">vdem_country_id</span>, <span class="va">year</span>, <span class="va">sd</span>, <span class="va">sd_value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">index</span> <span class="op">==</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="va">sd</span>, <span class="st">"_sd"</span>,<span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">left_join</span><span class="op">(</span><span class="va">vdem_codebook</span> <span class="op">%&gt;%</span> 
              <span class="fu">select</span><span class="op">(</span><span class="va">name</span>, <span class="va">label</span><span class="op">)</span> <span class="op">%&gt;%</span>
              <span class="fu">rename</span><span class="op">(</span>index <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">group_by</span><span class="op">(</span><span class="va">year</span>, <span class="va">index</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span><span class="op">(</span>mean_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">index_value</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, 
            se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">sd_value</span><span class="op">^</span><span class="fl">2</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>,
            pct_025 <span class="op">=</span> <span class="va">mean_index</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">se</span>,
            pct_975 <span class="op">=</span> <span class="va">mean_index</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">se</span>,
            label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">label</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = "index"</span>
<span class="co">#&gt; `summarise()` regrouping output by 'year' (override with `.groups` argument)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/slowkow/ggrepel">ggrepel</a></span><span class="op">)</span>  
<span class="fu">ggplot</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">mean_index</span>, color <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_ribbon</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, ymin <span class="op">=</span> <span class="va">pct_025</span>, ymax <span class="op">=</span> <span class="va">pct_975</span>, group <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, 
              fill <span class="op">=</span> <span class="st">"grey"</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggrepel/man/geom_text_repel.html">geom_text_repel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span> <span class="op">%&gt;%</span> 
              <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span>,
            <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">mean_index</span>, label <span class="op">=</span> <span class="va">label</span>, color <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Avg. level of democracy\n(according to V-Dem main indices)"</span>,
         color <span class="op">=</span> <span class="st">""</span>, x <span class="op">=</span> <span class="st">""</span>,
         title <span class="op">=</span> <span class="st">"Average level of democracy in the world, 1789-2020"</span>,
         subtitle <span class="op">=</span> <span class="st">"Average over all countries in year for each index.\nEach index ranges from 0 = least democratic to 1 = most democratic.\nDotted lines indicate WWI, WWII, and the end of the Cold War.\nYears from 1789 to 1900 reflect a smaller sample of countries from the historical V-Dem\nproject."</span>,
         caption <span class="op">=</span> <span class="st">"Data from V-Dem dataset, version 11"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1914</span>, <span class="fl">1918</span>, <span class="fl">1939</span>, <span class="fl">1945</span>, <span class="fl">1989</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_cartesian</span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1789</span>, <span class="fl">2030</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_color_viridis_d</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: Removed 222 row(s) containing missing values (geom_path).</span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-7-1.png"><!-- --></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span><span class="op">(</span><span class="va">section</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"component index"</span>, <span class="va">label</span><span class="op">)</span>,
                            include_uncertainty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gather</span><span class="op">(</span><span class="va">index</span>, <span class="va">index_value</span>, <span class="va">v2x_polyarchy</span><span class="op">:</span><span class="va">v2x_egaldem</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">vdem_country_name</span>, <span class="va">vdem_country_id</span>, <span class="va">year</span>, <span class="va">index</span>, <span class="va">index_value</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">left_join</span><span class="op">(</span><span class="fu"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span><span class="op">(</span><span class="va">section</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"component index"</span>, <span class="va">label</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
              <span class="fu">gather</span><span class="op">(</span><span class="va">codelow</span>, <span class="va">codelow_value</span>, <span class="va">v2x_polyarchy_codelow</span><span class="op">:</span><span class="va">v2x_egaldem_codelow</span><span class="op">)</span> <span class="op">%&gt;%</span> 
              <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">v2x_polyarchy</span><span class="op">:</span><span class="op">-</span><span class="va">v2x_egaldem</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">vdem_country_name</span>, <span class="va">vdem_country_id</span>, <span class="va">year</span>, <span class="va">codelow</span>, <span class="va">codelow_value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">index</span> <span class="op">==</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="va">codelow</span>, <span class="st">"_codelow"</span>,<span class="st">""</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span>
  <span class="fu">left_join</span><span class="op">(</span><span class="fu"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span><span class="op">(</span><span class="va">section</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"component index"</span>, <span class="va">label</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
              <span class="fu">gather</span><span class="op">(</span><span class="va">codehigh</span>, <span class="va">codehigh_value</span>, <span class="va">v2x_polyarchy_codehigh</span><span class="op">:</span><span class="va">v2x_egaldem_codehigh</span><span class="op">)</span> <span class="op">%&gt;%</span> 
              <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">v2x_polyarchy</span><span class="op">:</span><span class="op">-</span><span class="va">v2x_egaldem</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">vdem_country_name</span>, <span class="va">vdem_country_id</span>, <span class="va">year</span>, <span class="va">codehigh</span>, <span class="va">codehigh_value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">index</span> <span class="op">==</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="va">codehigh</span>, <span class="st">"_codehigh"</span>,<span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">left_join</span><span class="op">(</span><span class="va">vdem_codebook</span> <span class="op">%&gt;%</span> 
              <span class="fu">select</span><span class="op">(</span><span class="va">name</span>, <span class="va">label</span><span class="op">)</span> <span class="op">%&gt;%</span>
              <span class="fu">rename</span><span class="op">(</span>index <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span>, 
         <span class="va">vdem_country_name</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Venezuela"</span>, 
                                  <span class="st">"United States of America"</span>, 
                                  <span class="st">"Turkey"</span>, <span class="st">"Russia"</span>, <span class="st">"India"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = "index"</span>

 
<span class="fu">ggplot</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">index_value</span>, color <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_ribbon</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, ymin <span class="op">=</span> <span class="va">codelow_value</span>, ymax <span class="op">=</span> <span class="va">codehigh_value</span>, group <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, 
              fill <span class="op">=</span> <span class="st">"grey"</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggrepel/man/geom_text_repel.html">geom_text_repel</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span> <span class="op">%&gt;%</span> 
              <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span>,
            <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">index_value</span>, label <span class="op">=</span> <span class="va">label</span>, color <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Avg. level of democracy\n(according to V-Dem main indices)"</span>,
         color <span class="op">=</span> <span class="st">""</span>, x <span class="op">=</span> <span class="st">""</span>,
         title <span class="op">=</span> <span class="st">"Average level of democracy in selected countries, 1789-2020"</span>,
         subtitle <span class="op">=</span> <span class="st">"Each index ranges from 0 = least democratic to 1 = most democratic.\nDotted lines indicate WWI, WWII, and the end of the Cold War."</span>,
         caption <span class="op">=</span> <span class="st">"Data from V-Dem dataset, version 11"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1914</span>, <span class="fl">1918</span>, <span class="fl">1939</span>, <span class="fl">1945</span>, <span class="fl">1989</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_hline</span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0.5</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_cartesian</span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1789</span>, <span class="fl">2030</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">vdem_country_name</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_color_viridis_d</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: Removed 222 row(s) containing missing values (geom_path).</span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-8-1.png"><!-- --></p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a>. V-Dem data licensed as CC-BY-SA.</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing vdem</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Xavier Marquez <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/xmarquez/vdem/actions"><img src="https://github.com/xmarquez/vdem/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://travis-ci.org/xmarquez/vdem"><img src="https://travis-ci.org/xmarquez/vdem.svg?branch=master" alt="Travis-CI Build Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Xavier Marquez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
