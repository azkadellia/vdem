<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contains the Varieties of Democracy (V-Dem) Dataset v. 9 • vdem</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Contains the Varieties of Democracy (V-Dem) Dataset v. 9">
<meta property="og:description" content="Contains the Varieties of Democracy (V-Dem) Dataset v. 9 plus external variables,
  the codebook in data frame format, and some functions to ease the extraction of vdem data.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">vdem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->


      </header><div class="row">
  <div class="col-md-9 contents">




<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="vdem" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#vdem" class="anchor"></a>vdem</h1></div>
<p>This package provides access to the <a href="https://www.v-dem.net/en/data/data-version-9/">Varieties of Democracy (V-Dem) dataset, version 9</a>. It includes the dataset’s codebook as a data frame, which allows one to easily search for variables by label or other descriptors. And it also includes a couple of convenience functions, <code>extract_vdem</code> and <code>extract_vdem_filter</code>, to extract subsets of the dataset meeting particular criteria.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>This package is only available on Github for now. Install as follows:</p>
<pre><code>devtools::install_github("xmarquez/vdem")
</code></pre>
</div>
<div id="accessing-the-vdem-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-the-vdem-dataset" class="anchor"></a>Accessing the VDem dataset</h2>
<p>You can access the entire V-Dem dataset by typing <code>VDem_plus</code>. (Access documentation on the dataset by typing <code><a href="reference/VDem_plus.html">?VDem_plus</a></code>, or typing <code>vdem_codebook</code> to access the codebook as a data frame.).</p>
</div>
<div id="extracting-specific-variables-by-label-section-number-etc-" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-specific-variables-by-label-section-number-etc-" class="anchor"></a>Extracting specific variables by label, section number, etc.</h2>
<p>The V-Dem dataset is pretty big; including external variables and identifiers, it has <code>26884</code> rows and <code>3900</code> columns, which takes up a lot of memory and can be confusing to work with. This package thus makes available the function <code>extract_vdem</code>, which allows you to extract a subset of these variables meeting specific criteria. For example, you can just extract the main democracy indices (described in section 2 of the codebook) as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(vdem)

main_indices &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem.html">extract_vdem</a></span>(<span class="dt">section_number =</span> <span class="dv">2</span>)

main_indices
<span class="co">#&gt; # A tibble: 26,884 x 104</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Afghanistan      AFG                           36  1789 Afghanistan     </span>
<span class="co">#&gt;  2 Afghanistan      AFG                           36  1790 Afghanistan     </span>
<span class="co">#&gt;  3 Afghanistan      AFG                           36  1791 Afghanistan     </span>
<span class="co">#&gt;  4 Afghanistan      AFG                           36  1792 Afghanistan     </span>
<span class="co">#&gt;  5 Afghanistan      AFG                           36  1793 Afghanistan     </span>
<span class="co">#&gt;  6 Afghanistan      AFG                           36  1794 Afghanistan     </span>
<span class="co">#&gt;  7 Afghanistan      AFG                           36  1795 Afghanistan     </span>
<span class="co">#&gt;  8 Afghanistan      AFG                           36  1796 Afghanistan     </span>
<span class="co">#&gt;  9 Afghanistan      AFG                           36  1797 Afghanistan     </span>
<span class="co">#&gt; 10 Afghanistan      AFG                           36  1798 Afghanistan     </span>
<span class="co">#&gt; # ... with 26,874 more rows, and 99 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;int&gt;,</span>
<span class="co">#&gt; #   histname &lt;chr&gt;, codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_contemp &lt;dbl&gt;, codingend_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;, gapstart1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;, gapend2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend3 &lt;dbl&gt;, vdem_cown &lt;int&gt;, v2x_polyarchy &lt;dbl&gt;, v2x_libdem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem &lt;dbl&gt;, v2x_delibdem &lt;dbl&gt;, v2x_egaldem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api &lt;dbl&gt;, v2x_mpi &lt;dbl&gt;, v2x_freexp_altinf &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_frassoc_thick &lt;dbl&gt;, v2x_suffr &lt;dbl&gt;, v2xel_frefair &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_elecoff &lt;dbl&gt;, v2x_liberal &lt;dbl&gt;, v2xcl_rol &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_jucon &lt;dbl&gt;, v2xlg_legcon &lt;dbl&gt;, v2x_partip &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart &lt;dbl&gt;, v2xdd_dd &lt;dbl&gt;, v2xel_locelec &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec &lt;dbl&gt;, v2xdl_delib &lt;dbl&gt;, v2x_egal &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqprotec &lt;dbl&gt;, v2xeg_eqaccess &lt;dbl&gt;, v2xeg_eqdr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy_codelow &lt;dbl&gt;, v2x_libdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codelow &lt;dbl&gt;, v2x_delibdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codelow &lt;dbl&gt;, v2x_api_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_mpi_codelow &lt;dbl&gt;, v2x_freexp_altinf_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_frassoc_thick_codelow &lt;dbl&gt;, v2xel_frefair_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_liberal_codelow &lt;dbl&gt;, v2xcl_rol_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_jucon_codelow &lt;dbl&gt;, v2xlg_legcon_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partip_codelow &lt;dbl&gt;, v2x_cspart_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_locelec_codelow &lt;dbl&gt;, v2xel_regelec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xdl_delib_codelow &lt;dbl&gt;, v2x_egal_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqprotec_codelow &lt;dbl&gt;, v2xeg_eqaccess_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqdr_codelow &lt;dbl&gt;, v2x_polyarchy_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem_codehigh &lt;dbl&gt;, v2x_partipdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem_codehigh &lt;dbl&gt;, v2x_egaldem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api_codehigh &lt;dbl&gt;, v2x_mpi_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf_codehigh &lt;dbl&gt;, v2x_frassoc_thick_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair_codehigh &lt;dbl&gt;, v2x_liberal_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xcl_rol_codehigh &lt;dbl&gt;, v2x_jucon_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xlg_legcon_codehigh &lt;dbl&gt;, v2x_partip_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart_codehigh &lt;dbl&gt;, v2xel_locelec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec_codehigh &lt;dbl&gt;, v2xdl_delib_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egal_codehigh &lt;dbl&gt;, v2xeg_eqprotec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess_codehigh &lt;dbl&gt;, v2xeg_eqdr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;, GWc &lt;chr&gt;,</span>
<span class="co">#&gt; #   extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;, microstate &lt;lgl&gt;,</span>
<span class="co">#&gt; #   lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>The function <code>extract_vdem</code> always returns a <code>tibble</code> with all the identifiers in the dataset (country name, id, year, COW code, etc.) plus the requested variables. (You will note that this table includes a couple of identifiers I added, providing information about the membership of the country-year in the <a href="http://privatewww.essex.ac.uk/~ksg/statelist.html">Gleditsch-Ward</a> state system membership list). You can also specify whether you want the measures of uncertainty included in the dataset (<code>_codehigh</code> and <code>_codelow</code> confidence interval extremes) returned, or whether certain variable types (e.g., ordinal-scale variables) should be excluded.</p>
<p>It is possible to extract variables whose labels mention certain words. For example, you can extract all the variables that mention “corruption” in the codebook labels:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">corruption_vars &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem.html">extract_vdem</a></span>(<span class="dt">label_pattern =</span> <span class="st">"corrupt"</span>)

corruption_vars
<span class="co">#&gt; # A tibble: 26,884 x 62</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Afghanistan      AFG                           36  1789 Afghanistan     </span>
<span class="co">#&gt;  2 Afghanistan      AFG                           36  1790 Afghanistan     </span>
<span class="co">#&gt;  3 Afghanistan      AFG                           36  1791 Afghanistan     </span>
<span class="co">#&gt;  4 Afghanistan      AFG                           36  1792 Afghanistan     </span>
<span class="co">#&gt;  5 Afghanistan      AFG                           36  1793 Afghanistan     </span>
<span class="co">#&gt;  6 Afghanistan      AFG                           36  1794 Afghanistan     </span>
<span class="co">#&gt;  7 Afghanistan      AFG                           36  1795 Afghanistan     </span>
<span class="co">#&gt;  8 Afghanistan      AFG                           36  1796 Afghanistan     </span>
<span class="co">#&gt;  9 Afghanistan      AFG                           36  1797 Afghanistan     </span>
<span class="co">#&gt; 10 Afghanistan      AFG                           36  1798 Afghanistan     </span>
<span class="co">#&gt; # ... with 26,874 more rows, and 57 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;int&gt;,</span>
<span class="co">#&gt; #   histname &lt;chr&gt;, codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_contemp &lt;dbl&gt;, codingend_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;, gapstart1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;, gapend2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend3 &lt;dbl&gt;, vdem_cown &lt;int&gt;, v2exbribe &lt;dbl&gt;, v2excrptps &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2lgcrrpt &lt;dbl&gt;, v2jucorrdc &lt;dbl&gt;, v2mecorrpt &lt;dbl&gt;, v3lgcrrpt &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xnp_regcorr &lt;dbl&gt;, v2x_corr &lt;dbl&gt;, v2x_execorr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_pubcorr &lt;dbl&gt;, v2exbribe_codelow &lt;dbl&gt;, v2excrptps_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2lgcrrpt_codelow &lt;dbl&gt;, v2jucorrdc_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2mecorrpt_codelow &lt;dbl&gt;, v3lgcrrpt_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xnp_regcorr_codelow &lt;dbl&gt;, v2x_corr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_execorr_codelow &lt;dbl&gt;, v2x_pubcorr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2exbribe_codehigh &lt;dbl&gt;, v2excrptps_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2lgcrrpt_codehigh &lt;dbl&gt;, v2jucorrdc_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2mecorrpt_codehigh &lt;dbl&gt;, v3lgcrrpt_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xnp_regcorr_codehigh &lt;dbl&gt;, v2x_corr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_execorr_codehigh &lt;dbl&gt;, v2x_pubcorr_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;, GWc &lt;chr&gt;,</span>
<span class="co">#&gt; #   extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;, microstate &lt;lgl&gt;,</span>
<span class="co">#&gt; #   lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>And here we extract variables that refer to civil society, including “external” ones bundled with the dataset but not produced by the V-Dem project itself:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">civil_society &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem.html">extract_vdem</a></span>(<span class="dt">name_pattern =</span> <span class="st">"^v2cl"</span>,
                              <span class="dt">label_pattern =</span> <span class="st">"civil society"</span>,
                              <span class="dt">include_external =</span> <span class="ot">TRUE</span>)

civil_society
<span class="co">#&gt; # A tibble: 26,884 x 157</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Afghanistan      AFG                           36  1789 Afghanistan     </span>
<span class="co">#&gt;  2 Afghanistan      AFG                           36  1790 Afghanistan     </span>
<span class="co">#&gt;  3 Afghanistan      AFG                           36  1791 Afghanistan     </span>
<span class="co">#&gt;  4 Afghanistan      AFG                           36  1792 Afghanistan     </span>
<span class="co">#&gt;  5 Afghanistan      AFG                           36  1793 Afghanistan     </span>
<span class="co">#&gt;  6 Afghanistan      AFG                           36  1794 Afghanistan     </span>
<span class="co">#&gt;  7 Afghanistan      AFG                           36  1795 Afghanistan     </span>
<span class="co">#&gt;  8 Afghanistan      AFG                           36  1796 Afghanistan     </span>
<span class="co">#&gt;  9 Afghanistan      AFG                           36  1797 Afghanistan     </span>
<span class="co">#&gt; 10 Afghanistan      AFG                           36  1798 Afghanistan     </span>
<span class="co">#&gt; # ... with 26,874 more rows, and 152 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;int&gt;,</span>
<span class="co">#&gt; #   histname &lt;chr&gt;, codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_contemp &lt;dbl&gt;, codingend_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;, gapstart1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;, gapend2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend3 &lt;dbl&gt;, vdem_cown &lt;int&gt;, v2clacfree &lt;dbl&gt;, v2clrelig &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltort &lt;dbl&gt;, v2clkill &lt;dbl&gt;, v2cltrnslw &lt;dbl&gt;, v2clrspct &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clfmove &lt;dbl&gt;, v2cldmovem &lt;dbl&gt;, v2cldmovew &lt;dbl&gt;, v2cldiscm &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldiscw &lt;dbl&gt;, v2clslavem &lt;dbl&gt;, v2clslavef &lt;dbl&gt;, v2clstown &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clprptym &lt;dbl&gt;, v2clprptyw &lt;dbl&gt;, v2clacjstm &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacjstw &lt;dbl&gt;, v2clacjust &lt;dbl&gt;, v2clsocgrp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgunev &lt;dbl&gt;, v2clsnlpct &lt;dbl&gt;, v2clgencl &lt;dbl&gt;, v2clpolcl &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clgeocl &lt;dbl&gt;, v2clrgstch_0 &lt;dbl&gt;, v2clrgstch_1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_10 &lt;dbl&gt;, v2clrgstch_11 &lt;dbl&gt;, v2clrgstch_12 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_13 &lt;dbl&gt;, v2clrgstch_14 &lt;dbl&gt;, v2clrgstch_15 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_16 &lt;dbl&gt;, v2clrgstch_17 &lt;dbl&gt;, v2clrgstch_18 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_19 &lt;dbl&gt;, v2clrgstch_2 &lt;dbl&gt;, v2clrgstch_20 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_21 &lt;dbl&gt;, v2clrgstch_3 &lt;dbl&gt;, v2clrgstch_4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_5 &lt;dbl&gt;, v2clrgstch_6 &lt;dbl&gt;, v2clrgstch_7 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgstch_8 &lt;dbl&gt;, v2clrgstch_9 &lt;dbl&gt;, v2clrgwkch_0 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_1 &lt;dbl&gt;, v2clrgwkch_10 &lt;dbl&gt;, v2clrgwkch_11 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_12 &lt;dbl&gt;, v2clrgwkch_13 &lt;dbl&gt;, v2clrgwkch_14 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_15 &lt;dbl&gt;, v2clrgwkch_16 &lt;dbl&gt;, v2clrgwkch_17 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_18 &lt;dbl&gt;, v2clrgwkch_19 &lt;dbl&gt;, v2clrgwkch_2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_20 &lt;dbl&gt;, v2clrgwkch_21 &lt;dbl&gt;, v2clrgwkch_3 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_4 &lt;dbl&gt;, v2clrgwkch_5 &lt;dbl&gt;, v2clrgwkch_6 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clrgwkch_7 &lt;dbl&gt;, v2clrgwkch_8 &lt;dbl&gt;, v2clrgwkch_9 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clacfree_codelow &lt;dbl&gt;, v2clrelig_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltort_codelow &lt;dbl&gt;, v2clkill_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cltrnslw_codelow &lt;dbl&gt;, v2clrspct_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clfmove_codelow &lt;dbl&gt;, v2cldmovem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldmovew_codelow &lt;dbl&gt;, v2cldiscm_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2cldiscw_codelow &lt;dbl&gt;, v2clslavem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2clslavef_codelow &lt;dbl&gt;, ...</span></code></pre></div>
<p>You can use any regular expression you like to search over the variable names or label names. See <code><a href="reference/extract_vdem.html">?extract_vdem</a></code> for all options.</p>
<p>If you need more control over the variables extracted, or need to learn more about them, you can use the codebook:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem_codebook
<span class="co">#&gt; # A tibble: 668 x 22</span>
<span class="co">#&gt;    section number name  label type  project_manager additional_vers~</span>
<span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;           </span>
<span class="co">#&gt;  1       2 2.1.1  v2x_~ Elec~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  2       2 2.1.2  v2x_~ Libe~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  3       2 2.1.3  v2x_~ Part~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  4       2 2.1.4  v2x_~ Deli~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  5       2 2.1.5  v2x_~ Egal~ (D)   Rachel Sigman,~ *_codelow, *_co~</span>
<span class="co">#&gt;  6       2 2.2.1  v2x_~ Addi~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  7       2 2.2.2  v2x_~ Mult~ (D)   Jan Teorell     *_codelow, *_co~</span>
<span class="co">#&gt;  8       2 2.2.3  v2x_~ Free~ (D)   Svend-Erik Ska~ *_codelow, *_co~</span>
<span class="co">#&gt;  9       2 2.2.4  v2x_~ Free~ (D)   Allen Hicken, ~ *_codelow, *_co~</span>
<span class="co">#&gt; 10       2 2.2.5  v2x_~ Shar~ (D)   Svend-Erik Ska~ &lt;NA&gt;            </span>
<span class="co">#&gt; # ... with 658 more rows, and 15 more variables: available_versions &lt;chr&gt;,</span>
<span class="co">#&gt; #   question &lt;chr&gt;, clarification &lt;chr&gt;, responses &lt;chr&gt;,</span>
<span class="co">#&gt; #   answer_type &lt;chr&gt;, scale &lt;chr&gt;, ordering &lt;chr&gt;, aggregation &lt;chr&gt;,</span>
<span class="co">#&gt; #   cross_coder &lt;chr&gt;, data_release &lt;chr&gt;, source &lt;chr&gt;, cleaning &lt;chr&gt;,</span>
<span class="co">#&gt; #   citation &lt;chr&gt;, years &lt;chr&gt;, note &lt;chr&gt;</span></code></pre></div>
<p>You can use the function <code>extract_vdem_filter</code> to exercise finer control over the extraction process. For example, here we extract all variables listed in section 2 of the codebook except component indices:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"component index"</span>, label))
<span class="co">#&gt; # A tibble: 26,884 x 92</span>
<span class="co">#&gt;    vdem_country_na~ vdem_country_te~ vdem_country_id  year extended_countr~</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span>
<span class="co">#&gt;  1 Afghanistan      AFG                           36  1789 Afghanistan     </span>
<span class="co">#&gt;  2 Afghanistan      AFG                           36  1790 Afghanistan     </span>
<span class="co">#&gt;  3 Afghanistan      AFG                           36  1791 Afghanistan     </span>
<span class="co">#&gt;  4 Afghanistan      AFG                           36  1792 Afghanistan     </span>
<span class="co">#&gt;  5 Afghanistan      AFG                           36  1793 Afghanistan     </span>
<span class="co">#&gt;  6 Afghanistan      AFG                           36  1794 Afghanistan     </span>
<span class="co">#&gt;  7 Afghanistan      AFG                           36  1795 Afghanistan     </span>
<span class="co">#&gt;  8 Afghanistan      AFG                           36  1796 Afghanistan     </span>
<span class="co">#&gt;  9 Afghanistan      AFG                           36  1797 Afghanistan     </span>
<span class="co">#&gt; 10 Afghanistan      AFG                           36  1798 Afghanistan     </span>
<span class="co">#&gt; # ... with 26,874 more rows, and 87 more variables: GWn &lt;dbl&gt;,</span>
<span class="co">#&gt; #   historical_date &lt;date&gt;, project &lt;dbl&gt;, historical &lt;int&gt;,</span>
<span class="co">#&gt; #   histname &lt;chr&gt;, codingstart &lt;dbl&gt;, codingend &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_contemp &lt;dbl&gt;, codingend_contemp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   codingstart_hist &lt;dbl&gt;, codingend_hist &lt;dbl&gt;, gapstart1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapstart2 &lt;dbl&gt;, gapstart3 &lt;dbl&gt;, gapend1 &lt;dbl&gt;, gapend2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gapend3 &lt;dbl&gt;, vdem_cown &lt;int&gt;, v2x_polyarchy &lt;dbl&gt;, v2x_libdem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem &lt;dbl&gt;, v2x_delibdem &lt;dbl&gt;, v2x_egaldem &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api &lt;dbl&gt;, v2x_mpi &lt;dbl&gt;, v2x_freexp_altinf &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_frassoc_thick &lt;dbl&gt;, v2x_suffr &lt;dbl&gt;, v2xel_frefair &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_elecoff &lt;dbl&gt;, v2xcl_rol &lt;dbl&gt;, v2x_jucon &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xlg_legcon &lt;dbl&gt;, v2x_cspart &lt;dbl&gt;, v2xdd_dd &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_locelec &lt;dbl&gt;, v2xel_regelec &lt;dbl&gt;, v2xeg_eqprotec &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess &lt;dbl&gt;, v2xeg_eqdr &lt;dbl&gt;, v2x_polyarchy_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_libdem_codelow &lt;dbl&gt;, v2x_partipdem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_delibdem_codelow &lt;dbl&gt;, v2x_egaldem_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_api_codelow &lt;dbl&gt;, v2x_mpi_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_freexp_altinf_codelow &lt;dbl&gt;, v2x_frassoc_thick_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_frefair_codelow &lt;dbl&gt;, v2xcl_rol_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_jucon_codelow &lt;dbl&gt;, v2xlg_legcon_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_cspart_codelow &lt;dbl&gt;, v2xel_locelec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_regelec_codelow &lt;dbl&gt;, v2xeg_eqprotec_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqaccess_codelow &lt;dbl&gt;, v2xeg_eqdr_codelow &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_polyarchy_codehigh &lt;dbl&gt;, v2x_libdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_partipdem_codehigh &lt;dbl&gt;, v2x_delibdem_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_egaldem_codehigh &lt;dbl&gt;, v2x_api_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_mpi_codehigh &lt;dbl&gt;, v2x_freexp_altinf_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2x_frassoc_thick_codehigh &lt;dbl&gt;, v2xel_frefair_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xcl_rol_codehigh &lt;dbl&gt;, v2x_jucon_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xlg_legcon_codehigh &lt;dbl&gt;, v2x_cspart_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xel_locelec_codehigh &lt;dbl&gt;, v2xel_regelec_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqprotec_codehigh &lt;dbl&gt;, v2xeg_eqaccess_codehigh &lt;dbl&gt;,</span>
<span class="co">#&gt; #   v2xeg_eqdr_codehigh &lt;dbl&gt;, GW_startdate &lt;date&gt;, GW_enddate &lt;date&gt;,</span>
<span class="co">#&gt; #   GWc &lt;chr&gt;, extended_region &lt;chr&gt;, extended_continent &lt;chr&gt;,</span>
<span class="co">#&gt; #   microstate &lt;lgl&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;, in_GW_system &lt;lgl&gt;</span></code></pre></div>
<p>And then you can easily use the data for your analyses or to make pretty pictures:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse)
<span class="co">#&gt; -- Attaching packages ------------------------------------------------------------------------------------------------------------------------------- tidyverse 1.2.1 --</span>
<span class="co">#&gt; v ggplot2 3.0.0     v purrr   0.2.5</span>
<span class="co">#&gt; v tibble  1.4.2     v dplyr   0.7.6</span>
<span class="co">#&gt; v tidyr   0.8.1     v stringr 1.3.1</span>
<span class="co">#&gt; v readr   1.1.1     v forcats 0.3.0</span>
<span class="co">#&gt; Warning: package 'ggplot2' was built under R version 3.5.1</span>
<span class="co">#&gt; Warning: package 'purrr' was built under R version 3.5.1</span>
<span class="co">#&gt; Warning: package 'dplyr' was built under R version 3.5.1</span>
<span class="co">#&gt; -- Conflicts ---------------------------------------------------------------------------------------------------------------------------------- tidyverse_conflicts() --</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span>

data &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"component index"</span>, label),
                            <span class="dt">include_uncertainty =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(index, index_value, v2x_polyarchy<span class="op">:</span>v2x_egaldem) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, index, index_value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(<span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"component index"</span>, label),
                            <span class="dt">include_uncertainty =</span> <span class="ot">FALSE</span>, <span class="dt">include_sd =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">gather</span>(sd, sd_value, v2x_polyarchy_sd<span class="op">:</span>v2x_egaldem_sd) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(<span class="op">-</span>v2x_polyarchy<span class="op">:-</span>v2x_egaldem) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, sd, sd_value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(index <span class="op">==</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span>(sd, <span class="st">"_sd"</span>,<span class="st">""</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(vdem_codebook <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(name, label) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">rename</span>(<span class="dt">index =</span> name)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(index)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(year, index) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_index =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(index_value, <span class="dt">na.rm=</span><span class="ot">TRUE</span>),
            <span class="dt">se =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/MathFun">sqrt</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(sd_value<span class="op">^</span><span class="dv">2</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))<span class="op">/</span><span class="kw">n</span>(),
            <span class="dt">pct_025 =</span> mean_index <span class="op">-</span><span class="st"> </span><span class="fl">1.96</span><span class="op">*</span>se,
            <span class="dt">pct_975 =</span> mean_index <span class="op">+</span><span class="st"> </span><span class="fl">1.96</span><span class="op">*</span>se,
            <span class="dt">label =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unique">unique</a></span>(label))
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = "index"</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggrepel)
<span class="co">#&gt; Warning: package 'ggrepel' was built under R version 3.5.2</span>
<span class="kw">ggplot</span>(data) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> mean_index, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">ymin =</span> pct_<span class="dv">025</span>, <span class="dt">ymax =</span> pct_<span class="dv">975</span>, <span class="dt">group =</span> label),
              <span class="dt">fill =</span> <span class="st">"grey"</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2018</span>),
            <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> mean_index, <span class="dt">label =</span> label, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">"Avg. level of democracy</span><span class="ch">\n</span><span class="st">(according to V-Dem main indices)"</span>,
         <span class="dt">color =</span> <span class="st">""</span>, <span class="dt">x =</span> <span class="st">""</span>,
         <span class="dt">title =</span> <span class="st">"Average level of democracy in the world, 1789-2018"</span>,
         <span class="dt">subtitle =</span> <span class="st">"Average over all countries in year for each index.</span><span class="ch">\n</span><span class="st">Each index ranges from 0 = least democratic to 1 = most democratic.</span><span class="ch">\n</span><span class="st">Dotted lines indicate WWI, WWII, and the end of the Cold War.</span><span class="ch">\n</span><span class="st">Years from 1789 to 1900 reflect a smaller sample of countries from the historical V-Dem</span><span class="ch">\n</span><span class="st">project."</span>,
         <span class="dt">caption =</span> <span class="st">"Data from V-Dem dataset, version 9"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1914</span>, <span class="dv">1918</span>, <span class="dv">1939</span>, <span class="dv">1945</span>, <span class="dv">1989</span>), <span class="dt">linetype =</span> <span class="dv">3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1789</span>, <span class="dv">2030</span>))
<span class="co">#&gt; Warning: Removed 222 rows containing missing values (geom_path).</span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
data &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"component index"</span>, label),
                            <span class="dt">include_uncertainty =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(index, index_value, v2x_polyarchy<span class="op">:</span>v2x_egaldem) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, index, index_value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(<span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"component index"</span>, label)) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">gather</span>(codelow, codelow_value, v2x_polyarchy_codelow<span class="op">:</span>v2x_egaldem_codelow) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(<span class="op">-</span>v2x_polyarchy<span class="op">:-</span>v2x_egaldem) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, codelow, codelow_value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(index <span class="op">==</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span>(codelow, <span class="st">"_codelow"</span>,<span class="st">""</span>))  <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(<span class="kw"><a href="reference/extract_vdem_filter.html">extract_vdem_filter</a></span>(section <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">"component index"</span>, label)) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">gather</span>(codehigh, codehigh_value, v2x_polyarchy_codehigh<span class="op">:</span>v2x_egaldem_codehigh) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(<span class="op">-</span>v2x_polyarchy<span class="op">:-</span>v2x_egaldem) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(vdem_country_name, vdem_country_id, year, codehigh, codehigh_value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(index <span class="op">==</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span>(codehigh, <span class="st">"_codehigh"</span>,<span class="st">""</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(vdem_codebook <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw">select</span>(name, label) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">rename</span>(<span class="dt">index =</span> name)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(index),
         vdem_country_name <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Venezuela"</span>,
                                  <span class="st">"United States of America"</span>,
                                  <span class="st">"Turkey"</span>, <span class="st">"Russia"</span>))
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = c("vdem_country_name", "vdem_country_id", "year")</span>
<span class="co">#&gt; Joining, by = "index"</span>


<span class="kw">ggplot</span>(data) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> index_value, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">ymin =</span> codelow_value, <span class="dt">ymax =</span> codehigh_value, <span class="dt">group =</span> label),
              <span class="dt">fill =</span> <span class="st">"grey"</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2018</span>),
            <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> index_value, <span class="dt">label =</span> label, <span class="dt">color =</span> label), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">"Avg. level of democracy</span><span class="ch">\n</span><span class="st">(according to V-Dem main indices)"</span>,
         <span class="dt">color =</span> <span class="st">""</span>, <span class="dt">x =</span> <span class="st">""</span>,
         <span class="dt">title =</span> <span class="st">"Average level of democracy in selected countries, 1789-2018"</span>,
         <span class="dt">subtitle =</span> <span class="st">"Each index ranges from 0 = least democratic to 1 = most democratic.</span><span class="ch">\n</span><span class="st">Dotted lines indicate WWI, WWII, and the end of the Cold War."</span>,
         <span class="dt">caption =</span> <span class="st">"Data from V-Dem dataset, version 9"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1914</span>, <span class="dv">1918</span>, <span class="dv">1939</span>, <span class="dv">1945</span>, <span class="dv">1989</span>), <span class="dt">linetype =</span> <span class="dv">3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="fl">0.5</span>, <span class="dt">color =</span> <span class="st">"red"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1789</span>, <span class="dv">2030</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>vdem_country_name, <span class="dt">ncol =</span> <span class="dv">1</span>)
<span class="co">#&gt; Warning: Removed 222 rows containing missing values (geom_path).</span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-8-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing vdem</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Xavier Marquez <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/xmarquez/vdem"><img src="https://travis-ci.org/xmarquez/vdem.svg?branch=master" alt="Travis-CI Build Status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Xavier Marquez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>



  </body>
</html>
